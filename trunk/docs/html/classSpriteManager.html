<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Michael&#39;orm&#39;Ryan: SpriteManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SpriteManager Class Reference</h1><!-- doxytag: class="SpriteManager" -->
<p><code>#include &lt;<a class="el" href="SpriteManager_8h_source.html">SpriteManager.h</a>&gt;</code></p>

<p><a href="classSpriteManager-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82941ce284548c762f250220ea58f43c"></a><!-- doxytag: member="SpriteManager::Init" ref="a82941ce284548c762f250220ea58f43c" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Init</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd70497163fb7b0d9cf7bc84ad7e4add"></a><!-- doxytag: member="SpriteManager::Deinit" ref="abd70497163fb7b0d9cf7bc84ad7e4add" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>Deinit</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a62d64bc26902245b617f7e738ce1fe1b">AddResource</a> (string file)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35b9196b2e3d675cb874b48458fc729d"></a><!-- doxytag: member="SpriteManager::AddNode" ref="a35b9196b2e3d675cb874b48458fc729d" args="(string handle)" -->
M2DNode&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a35b9196b2e3d675cb874b48458fc729d">AddNode</a> (string handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds an instance node to the internal multimap and returns a copy of it. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a8495b0a9a6de0c8bdd0fe60f46d9e314">DeleteSprite</a> (string sprite_name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a55a2a727022449bfaaa2a680d4431564"></a><!-- doxytag: member="SpriteManager::ClearNodes" ref="a55a2a727022449bfaaa2a680d4431564" args="(string handle)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a55a2a727022449bfaaa2a680d4431564">ClearNodes</a> (string handle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears all the instance nodes using the given resource. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9a3d082241930a426e06002c2351a16"></a><!-- doxytag: member="SpriteManager::GetSprite" ref="af9a3d082241930a426e06002c2351a16" args="(string sprite_name)" -->
pSprite&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#af9a3d082241930a426e06002c2351a16">GetSprite</a> (string sprite_name)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to a sprite. Used in lookup routines. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1d691cab83ad499119a09c076e107b26"></a><!-- doxytag: member="SpriteManager::Cleanup" ref="a1d691cab83ad499119a09c076e107b26" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a1d691cab83ad499119a09c076e107b26">Cleanup</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears all instance nodes that have no associated resource. Essentially a garbage collection function. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a34407a9e6ebf2f1eef21050768769d95">MapNode</a> (M2DNode node, string key)</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aab85b707923274ebc59acb94f9e04ee2"></a><!-- doxytag: member="SpriteManager::Instance" ref="aab85b707923274ebc59acb94f9e04ee2" args="()" -->
static <a class="el" href="classSpriteManager.html">SpriteManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>Instance</b> ()</td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a991c710279d884da6de3dc7267f484d6"></a><!-- doxytag: member="SpriteManager::error_color_array" ref="a991c710279d884da6de3dc7267f484d6" args="[3]" -->
GLfloat&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a991c710279d884da6de3dc7267f484d6">error_color_array</a> [3]</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An array used to render error instances. <br/></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66a70338940b875340d6bf3fa01308ab"></a><!-- doxytag: member="SpriteManager::SpriteManager" ref="a66a70338940b875340d6bf3fa01308ab" args="(SpriteManager const &amp;)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>SpriteManager</b> (<a class="el" href="classSpriteManager.html">SpriteManager</a> const &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2e955a289b86110e33da5ea2bac3b5eb"></a><!-- doxytag: member="SpriteManager::operator=" ref="a2e955a289b86110e33da5ea2bac3b5eb" args="(SpriteManager const &amp;)" -->
<a class="el" href="classSpriteManager.html">SpriteManager</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classSpriteManager.html">SpriteManager</a> const &amp;)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1c77424ed84e626df83e096bed462a84"></a><!-- doxytag: member="SpriteManager::sprites" ref="a1c77424ed84e626df83e096bed462a84" args="" -->
std::map&lt; string, pSprite &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a1c77424ed84e626df83e096bed462a84">sprites</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">std::map&lt;string, pSprite&gt; of cached sprite resources. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::multimap&lt; string, M2DNode, <br class="typebreak"/>
<a class="el" href="structstrsrt.html">strsrt</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a5156a8aad404a5c7f6b14183f1dd178b">nodes</a></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af01da77cb82294d7c9eea41cfa15d869"></a><!-- doxytag: member="SpriteManager::m_pInstance" ref="af01da77cb82294d7c9eea41cfa15d869" args="" -->
static <a class="el" href="classSpriteManager.html">SpriteManager</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>m_pInstance</b> = NULL</td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d669340e63fcad02cde401bbd5bcc23"></a><!-- doxytag: member="SpriteManager::Mob2DRenderer" ref="a0d669340e63fcad02cde401bbd5bcc23" args="" -->
class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpriteManager.html#a0d669340e63fcad02cde401bbd5bcc23">Mob2DRenderer</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="classSpriteManager.html">SpriteManager</a>: This class holds and caches all available sprite resources and also caches all of the nodes in a multimap. The nice thing about the std::multimap is that automatically sorts its data, so if the Nodes are mapped in this class according to the name of the sprite resource they are associated with, all that is needed to cut down on texture binds is to iterate through the map like normal and simply check to make sure we would not be binding a texture that was already bound. <br/>
<br/>
 Nodes versus Sprites - Sprites are only resources stored by the engine. They don't do much besides provide data. Nodes however are updated and read by the engine and provide indirect access to the sprite resources. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a62d64bc26902245b617f7e738ce1fe1b"></a><!-- doxytag: member="SpriteManager::AddResource" ref="a62d64bc26902245b617f7e738ce1fe1b" args="(string file)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpriteManager::AddResource </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>file</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates a new sprite, inserts it into the map, and delegates responsibility of loading the data to the <a class="el" href="classSprite.html">Sprite</a> instance. <a class="el" href="classSprite.html">Sprite</a> is hashed based on the name defined in its definition. </p>

</div>
</div>
<a class="anchor" id="a8495b0a9a6de0c8bdd0fe60f46d9e314"></a><!-- doxytag: member="SpriteManager::DeleteSprite" ref="a8495b0a9a6de0c8bdd0fe60f46d9e314" args="(string sprite_name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpriteManager::DeleteSprite </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>sprite_name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Releases a texture and flags all nodes using the resource to return the error sprite and sets all nodes using this resource to display an error texture. </p>

</div>
</div>
<a class="anchor" id="a34407a9e6ebf2f1eef21050768769d95"></a><!-- doxytag: member="SpriteManager::MapNode" ref="a34407a9e6ebf2f1eef21050768769d95" args="(M2DNode node, string key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpriteManager::MapNode </td>
          <td>(</td>
          <td class="paramtype">M2DNode&nbsp;</td>
          <td class="paramname"> <em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>key</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used to map an already existing node so that it can be rendered. The function will check against the sprites map to make sure that the node is being mapped to an existing key to avoid inefficient rendering. </p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a5156a8aad404a5c7f6b14183f1dd178b"></a><!-- doxytag: member="SpriteManager::nodes" ref="a5156a8aad404a5c7f6b14183f1dd178b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::multimap&lt;string, M2DNode, <a class="el" href="structstrsrt.html">strsrt</a>&gt; <a class="el" href="classSpriteManager.html#a5156a8aad404a5c7f6b14183f1dd178b">SpriteManager::nodes</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>std::multimap&lt;string, Mob2DNode&gt; of all of the available rendering nodes. This allows for sorting of the sprite nodes and leads to fewer texture changes. It also allows iteration through a specific range of nodes to flag them for deletion for the purpose of garbage collection. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/orm/Projects/Mob2D/libMob2D/src/<a class="el" href="SpriteManager_8h_source.html">SpriteManager.h</a></li>
<li>/home/orm/Projects/Mob2D/libMob2D/src/SpriteManager.cpp</li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed Mar 3 13:50:46 2010 for Michael'orm'Ryan by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
